# ุฑุงูููุง ุฑุงูโุงูุฏุงุฒ ุณุณุชู ูุณุฏูุฏุช ฺฉุงุฑุจุฑุงู

## ูุฑุญูู ุงูู: ุงุฌุฑุง ุฏุณุชูุฑุงุช SQL ุฏุฑ Supabase

ุจุฑุง ูุนุงู ฺฉุฑุฏู ุณุณุชู ูุณุฏูุฏุช ฺฉุงุฑุจุฑุงูุ ุงุจุชุฏุง ุจุงุฏ ููุฏูุง ูุงุฒู ุฑุง ุจู ุฌุฏูู `users` ุฏุฑ Supabase ุงุถุงูู ฺฉูุฏ:

1. ุจู ูพูู Supabase ุฎูุฏ ุจุฑูุฏ
2. ุจุฎุด **SQL Editor** ุฑุง ุจุงุฒ ฺฉูุฏ
3. ุฏุณุชูุฑุงุช ุฒุฑ ุฑุง ุงุฌุฑุง ฺฉูุฏ:

```sql
-- ุงุถุงูู ฺฉุฑุฏู ููุฏูุง ูุณุฏูุฏุช ุจู ุฌุฏูู users
ALTER TABLE users 
ADD COLUMN IF NOT EXISTS is_blocked BOOLEAN NOT NULL DEFAULT FALSE,
ADD COLUMN IF NOT EXISTS blocked_at TIMESTAMP WITH TIME ZONE NULL,
ADD COLUMN IF NOT EXISTS blocked_reason TEXT NULL;

-- ุงุฌุงุฏ ุงูุฏฺฉุณ ุจุฑุง ุฌุณุชุฌู ุณุฑุน ฺฉุงุฑุจุฑุงู ูุณุฏูุฏ
CREATE INDEX IF NOT EXISTS idx_users_is_blocked ON users(is_blocked);

-- ููุงุด ุชูุงู ฺฉุงุฑุจุฑุงู ุจุฑุง ุจุฑุฑุณ ููุฏูุง ุฌุฏุฏ
SELECT phone, full_name, is_blocked, blocked_at, blocked_reason 
FROM users 
ORDER BY full_name;
```

## ูุฑุญูู ุฏูู: ุชุณุช ุนููฺฉุฑุฏ

ุจุนุฏ ุงุฒ ุงุฌุฑุง ุฏุณุชูุฑุงุช SQL:

1. ุงูพูฺฉุดู ุฑุง restart ฺฉูุฏ
2. ุจู ุจุฎุด ูุฏุฑุช ฺฉุงุฑุจุฑุงู ุจุฑูุฏ
3. console log ูุง ุฑุง ุจุฑุฑุณ ฺฉูุฏ (Debug Console ุฏุฑ IDE)
4. ุฏฺฉูู ูุณุฏูุฏุช ฺฉ ฺฉุงุฑุจุฑ ุฑุง ุชุณุช ฺฉูุฏ

## ุนูุงุฆู ููููุชโุขูุฒ ุจูุฏู ุฑุงูโุงูุฏุงุฒ:

- ุฏุฑ consoleุ ูพุงู `๐ ููุฏูุง ููุฌูุฏ: [full_name, phone, is_blocked, blocked_at, blocked_reason]` ุฑุง ูโุจูุฏ
- ุจุนุฏ ุงุฒ ูุณุฏูุฏ ฺฉุฑุฏู ฺฉ ฺฉุงุฑุจุฑุ ูุดุงู "ูุณุฏูุฏ" ุฏุฑ ฺฉูุงุฑ ูุงู ฺฉุงุฑุจุฑ ุธุงูุฑ ูโุดูุฏ
- border ูุฑูุฒ ุฏูุฑ ฺฉุงุฑุช ฺฉุงุฑุจุฑ ูุณุฏูุฏ ููุงุด ุฏุงุฏู ูโุดูุฏ
- ุขูุงุฑ ุฏุฑ ุจุงูุง ุตูุญู ุจุฑูุฒุฑุณุงู ูโุดูุฏ

## ุฑูุน ูุดฺฉู:

ุงฺฏุฑ ูููุฒ ฺฉุงุฑ ููโฺฉูุฏ:

1. ูุทูุฆู ุดูุฏ ฺฉู ุฏุณุชูุฑุงุช SQL ุจุง ููููุช ุงุฌุฑุง ุดุฏูโุงูุฏ
2. console log ูุง ุฑุง ุจุฑุง ุฎุทุงูุง ุงุญุชูุงู ุจุฑุฑุณ ฺฉูุฏ
3. ุงุชุตุงู ุงูุชุฑูุช ู Supabase ุฑุง ุจุฑุฑุณ ฺฉูุฏ
4. cache ุงูพูฺฉุดู ุฑุง ูพุงฺฉ ฺฉูุฏ (Hot Restart)

## ูุงูโูุง ุชุบุฑ ุงูุชู:

- `lib/pages/admin/manage_users_page.dart` - ุตูุญู ูุฏุฑุช ฺฉุงุฑุจุฑุงู
- `lib/pages/blocked_user_page.dart` - ุตูุญู ฺฉุงุฑุจุฑุงู ูุณุฏูุฏ  
- `lib/pages/blocked_user_reservations_page.dart` - ุฑุฒุฑููุง ฺฉุงุฑุจุฑุงู ูุณุฏูุฏ
- `lib/pages/welcome_page.dart` - ุจุฑุฑุณ ูุณุฏูุฏุช ุฏุฑ ูุฑูุฏ
- `lib/services/supabase_user_service.dart` - ุณุฑูุณ ฺฉุงุฑุจุฑุงู 